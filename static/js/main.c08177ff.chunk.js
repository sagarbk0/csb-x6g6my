(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{121:function(e,t,c){"use strict";c.r(t);var a=c(30),s=c.n(a),j=c(84),n=c(14),r=(c(45),c(165)),b=c(25),i=c(7),l=c(0),o=c(161),O=c(40),x=c.n(O),d=c(1),u=function(e,t){return x.a.post("https://sagarbk.pythonanywhere.com/find_login",{email:e,password:t}).then((function(e){var t=e.data.results;return t.length>0?t[0]:[!1]}))};function h(){var e=new b.a,t=Object(l.useState)(""),c=Object(i.a)(t,2),a=c[0],s=c[1],j=Object(l.useState)(""),n=Object(i.a)(j,2),O=n[0],x=n[1],h=Object(l.useState)(!1),v=Object(i.a)(h,2),g=v[0],m=v[1],p=Object(l.useState)([]),w=Object(i.a)(p,2),y=w[0],S=w[1];return Object(l.useEffect)((function(){console.log(y),y.length>0&&!1===y[0]?m(!0):(e.set("email",a),e.set("password",O),e.set("fname",y[2]),e.set("lname",y[3]),e.set("acct_type",y[4]),window.location.reload())}),[y]),Object(d.jsxs)("div",{children:[Object(d.jsx)(f,{}),Object(d.jsx)("h1",{children:"Sign In"}),Object(d.jsx)("br",{}),Object(d.jsx)(o.a,{label:"Email",onChange:function(e){s(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(o.a,{label:"Password",type:"password",onChange:function(e){x(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(r.a,{variant:"contained",onClick:function(){S(u(a,O))},children:"Submit"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),g?Object(d.jsx)("div",{children:"The login details are incorrect, please try again."}):Object(d.jsx)(d.Fragment,{})]})}var v=c(168),g=c(169),m=c(170);function f(){var e=new b.a,t=Object(l.useState)(null),c=Object(i.a)(t,2),a=c[0],s=c[1],j=Object(l.useState)(null),n=Object(i.a)(j,2),o=n[0],O=n[1],x=Object(l.useState)(null),h=Object(i.a)(x,2),f=h[0],p=h[1];Object(l.useEffect)((function(){var t=e.get("email");t&&s(t)}),[]),Object(l.useEffect)((function(){var t=e.get("password");a&&!u(a,t)&&s(null),O(e.get("fname")),p(e.get("lname"))}),[a]);return Object(d.jsx)(v.a,{position:"static",children:Object(d.jsxs)(g.a,{children:[Object(d.jsx)(m.a,{component:"button",children:Object(d.jsx)("a",{style:{color:"#993414",textDecoration:"none"},href:"/",children:"Home"})}),Object(d.jsx)(m.a,{component:"div",sx:{ml:2},children:a?Object(d.jsxs)("div",{children:["You are logged in as ",o," ",f," (",a,")",Object(d.jsx)("br",{}),Object(d.jsx)(r.a,{variant:"contained",onClick:function(){s(null),e.remove("email"),e.remove("password"),e.remove("role")},children:"Sign out"})]}):Object(d.jsxs)("div",{style:{textAlign:"right"},children:["You are not logged in."," ",Object(d.jsx)("a",{style:{color:"lightblue",textDecoration:"none"},href:"/sign_in",children:"Sign in here."})]})})]})})}function p(){var e=new b.a;return console.log(e.get("username")),console.log(e.get("whate")),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f,{}),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("h1",{children:"TORONTO TOW TRUCKS"}),Object(d.jsx)(r.a,{className:"button",variant:"outlined",href:"/service",children:"Request a tow truck"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(r.a,{className:"button",variant:"outlined",color:"secondary",href:"/manager",children:"Manager portal"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(r.a,{className:"button",variant:"outlined",color:"success",href:"/driver",children:"Driver portal"})]})]})}var w=c(166),y=c(163),S=["Yes","No"];function N(){var e=Object(l.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(l.useState)([]),j=Object(i.a)(s,2),n=j[0],O=j[1],u=Object(l.useState)([]),h=Object(i.a)(u,2),v=h[0],g=h[1],m=Object(l.useState)(null),p=Object(i.a)(m,2),N=p[0],k=p[1],E=new b.a;Object(l.useEffect)((function(){k(E.get("email")),x.a.get("https://sagarbk.pythonanywhere.com/get_categories").then((function(e){var t=e.data.categories,c=[],a={};for(var s in t)c.push(s[1]),a[s[1]]=s[0];O(c),g(a)}))}),[]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f,{}),null!==N?Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Service Request"}),Object(d.jsxs)(w.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch",textAlign:"left"}},children:[Object(d.jsx)(o.a,{label:"Description"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(o.a,{label:"Location"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(o.a,{select:!0,label:"Vehicle Category",value:c,onChange:function(e){a(e.target.value)},children:n.map((function(e){return Object(d.jsx)(y.a,{value:e,children:e},e)}))}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(o.a,{select:!0,value:"",label:"Is it blocking the road?",children:S.map((function(e){return Object(d.jsx)(y.a,{value:e,children:e},e)}))}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(r.a,{variant:"contained",onClick:function(e){x.a.post("https://sagarbk.pythonanywhere.com/add_service",{ServiceCategory:v[c]})},children:"Submit"})]})]}):Object(d.jsx)(d.Fragment,{children:"Please login to request a service."})]})}function k(){var e=new b.a,t=Object(l.useState)(!1),c=Object(i.a)(t,2),a=c[0],s=c[1];return Object(l.useEffect)((function(){"Manager"===e.get("role")&&s(!0)}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f,{}),a?Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Manager"}),Object(d.jsxs)(w.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},children:[Object(d.jsx)(o.a,{required:!0,label:"Email ID"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(o.a,{required:!0,type:"password",label:"Password"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(r.a,{variant:"contained",children:"Login"})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(r.a,{className:"button",variant:"outlined",children:"View trucks available at station"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(r.a,{className:"button",variant:"outlined",children:"View map of active trucks"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(r.a,{className:"button",variant:"outlined",children:"View active service requests"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(r.a,{className:"button",variant:"outlined",children:"View active employees"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{})]}):Object(d.jsx)("div",{children:"Please login as a manager to access this page."})]})}function E(){var e=new b.a,t=Object(l.useState)(!1),c=Object(i.a)(t,2),a=c[0],s=c[1];return Object(l.useEffect)((function(){"Driver"===e.get("role")&&s(!0)}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f,{}),a?Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Driver"}),Object(d.jsxs)(w.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},children:[Object(d.jsx)(o.a,{required:!0,label:"Email ID"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(o.a,{required:!0,type:"password",label:"Password"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(r.a,{variant:"contained",children:"Login"})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(r.a,{className:"button",variant:"outlined",children:"View today's schedule"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(r.a,{className:"button",variant:"outlined",children:"View nearby service requests"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(r.a,{className:"button",variant:"outlined",children:"View nearby drivers"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(r.a,{className:"button",variant:"outlined",children:"Send message to manager"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{})]}):Object(d.jsx)("div",{children:"Please login as a driver to access this page."})]})}var q=document.getElementById("root");s.a.render(Object(d.jsx)(j.a,{children:Object(d.jsxs)(n.c,{children:[Object(d.jsx)(n.a,{path:"/",element:Object(d.jsx)(p,{})}),Object(d.jsx)(n.a,{path:"service",element:Object(d.jsx)(N,{})}),Object(d.jsx)(n.a,{path:"manager",element:Object(d.jsx)(k,{})}),Object(d.jsx)(n.a,{path:"driver",element:Object(d.jsx)(E,{})}),Object(d.jsx)(n.a,{path:"sign_in",element:Object(d.jsx)(h,{})})]})}),q)},45:function(e,t,c){}},[[121,1,2]]]);
//# sourceMappingURL=main.c08177ff.chunk.js.map